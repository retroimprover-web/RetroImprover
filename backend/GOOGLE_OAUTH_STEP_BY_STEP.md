# –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth

## üìã –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.cloud.google.com/
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π Google –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤–≤–µ—Ä—Ö—É (—Ä—è–¥–æ–º —Å "Google Cloud")
4. –ù–∞–∂–º–∏—Ç–µ **"NEW PROJECT"**
5. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞: `RetroImprover` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
6. –ù–∞–∂–º–∏—Ç–µ **"CREATE"**
7. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥)
8. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ —Å–ø–∏—Å–∫–∞

## üîß –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Google+ API

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –Ω–∞–π–¥–∏—Ç–µ **"APIs & Services"** > **"Library"**
2. –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ: `Google+ API`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **"Google+ API"** –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"ENABLE"**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (–æ–±—ã—á–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Google+ API –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º. –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **"Google Identity"** –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Å–æ–∑–¥–∞–Ω–∏—é OAuth credentials - –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ —è–≤–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è API.

## üîë –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ OAuth 2.0 Credentials

1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **"APIs & Services"** > **"Credentials"**
2. –ù–∞–∂–º–∏—Ç–µ **"+ CREATE CREDENTIALS"** –≤–≤–µ—Ä—Ö—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **"OAuth client ID"**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth Consent Screen (–µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç):

–ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, Google –ø–æ–ø—Ä–æ—Å–∏—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å OAuth consent screen:

1. –í—ã–±–µ—Ä–∏—Ç–µ **"External"** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) –∏–ª–∏ **"Internal"** (–µ—Å–ª–∏ —É –≤–∞—Å Google Workspace)
2. –ù–∞–∂–º–∏—Ç–µ **"CREATE"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **App name**: `RetroImprover`
   - **User support email**: –≤–∞—à email
   - **Developer contact information**: –≤–∞—à email
4. –ù–∞–∂–º–∏—Ç–µ **"SAVE AND CONTINUE"**
5. –ù–∞ —à–∞–≥–µ "Scopes" –Ω–∞–∂–º–∏—Ç–µ **"SAVE AND CONTINUE"**
6. –ù–∞ —à–∞–≥–µ "Test users" (–µ—Å–ª–∏ External) –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
7. –ù–∞–∂–º–∏—Ç–µ **"BACK TO DASHBOARD"**

### –°–æ–∑–¥–∞–Ω–∏–µ OAuth Client ID:

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ **"APIs & Services"** > **"Credentials"**
2. –ù–∞–∂–º–∏—Ç–µ **"+ CREATE CREDENTIALS"** > **"OAuth client ID"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Application type**: **"Web application"**
4. –í–≤–µ–¥–∏—Ç–µ **Name**: `RetroImprover Web Client`
5. –í —Ä–∞–∑–¥–µ–ª–µ **"Authorized JavaScript origins"** –Ω–∞–∂–º–∏—Ç–µ **"+ ADD URI"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   - `http://localhost:3000`
6. –í —Ä–∞–∑–¥–µ–ª–µ **"Authorized redirect URIs"** –Ω–∞–∂–º–∏—Ç–µ **"+ ADD URI"** –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   - `http://localhost:3000/api/auth/google/callback`
7. –ù–∞–∂–º–∏—Ç–µ **"CREATE"**
8. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID** –∏ **Client Secret** (–æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

## üìù –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `backend/.env` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:

```env
GOOGLE_CLIENT_ID=–≤–∞—à-client-id-–∑–¥–µ—Å—å
GOOGLE_CLIENT_SECRET=–≤–∞—à-client-secret-–∑–¥–µ—Å—å
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback
```

**–ü—Ä–∏–º–µ—Ä:**
```env
GOOGLE_CLIENT_ID=123456789-abcdefghijklmnop.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-abcdefghijklmnopqrstuvwxyz
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback
```

## üé® –®–∞–≥ 5: –í–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `App.tsx` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:

```tsx
{false && (
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:

```tsx
{true && (
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É `{false &&` –∏ –∑–∞–∫—Ä—ã–≤–∞—é—â—É—é —Å–∫–æ–±–∫—É `)}` –ø–æ–ª–Ω–æ—Å—Ç—å—é, –æ—Å—Ç–∞–≤–∏–≤ —Ç–æ–ª—å–∫–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

## üîÑ –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω backend)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:

```bash
cd /Users/andrejursov/Documents/Work/RetroImprover/backend
npm run dev
```

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥: `http://localhost:5173`
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google
3. –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Google
4. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Å–∞–π—Ç

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **Client Secret** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑! –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ —Å—Ä–∞–∑—É.
2. –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ Client Secret, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π OAuth client ID
3. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—à –¥–æ–º–µ–Ω –≤ "Authorized JavaScript origins" –∏ "Authorized redirect URIs"
4. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ "External" —Ç–∏–ø, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Google (–¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "redirect_uri_mismatch"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ Google Console —É–∫–∞–∑–∞–Ω —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ URL: `http://localhost:3000/api/auth/google/callback`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤

### –û—à–∏–±–∫–∞ "invalid_client"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Client ID –∏ Client Secret –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env

### –ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ App.tsx –∏–∑–º–µ–Ω–µ–Ω–æ `{false &&` –Ω–∞ `{true &&`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

